<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gimik Perasmian</title>
    
    <!-- React & ReactDOM (Enjin Utama) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel (Untuk baca kod JSX) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS (Untuk Design Cantik) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Font Digital & Serif untuk Ramadan -->
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Cinzel:wght@400;700;900&family=Playfair+Display:ital,wght@1,400&display=swap" rel="stylesheet">

    <!-- Custom Styles untuk Animasi -->
    <style>
        body { margin: 0; padding: 0; background-color: #020617; color: white; } 
        
        @keyframes number-pop {
          0% { transform: scale(0.5); opacity: 0; }
          50% { transform: scale(1.2); opacity: 1; }
          100% { transform: scale(1); opacity: 0; }
        }
        .animate-number-pop {
          animation: number-pop 0.9s ease-out forwards;
        }

        @keyframes confetti {
          0% { transform: translateY(0) rotate(0deg); opacity: 1; }
          100% { transform: translateY(110vh) rotate(720deg); opacity: 0; }
        }
        .animate-confetti {
          animation-name: confetti;
          animation-timing-function: linear;
          animation-iteration-count: infinite;
        }

        @keyframes shimmer {
            0% { background-position: -1000px 0; }
            100% { background-position: 1000px 0; }
        }
        .animate-shimmer {
            animation: shimmer 3s infinite linear;
            background: linear-gradient(to right, #b45309 4%, #fcd34d 25%, #b45309 36%);
            background-size: 1000px 100%;
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
            100% { transform: translateY(0px); }
        }
        .animate-float {
            animation: float 5s ease-in-out infinite;
        }
        
        @keyframes glow {
            0%, 100% { box-shadow: 0 0 20px rgba(251, 191, 36, 0.2); }
            50% { box-shadow: 0 0 50px rgba(251, 191, 36, 0.6); }
        }

        .font-digital {
            font-family: 'Share Tech Mono', monospace;
        }
        .font-cinzel {
            font-family: 'Cinzel', serif;
        }
        .font-playfair {
            font-family: 'Playfair Display', serif;
        }
        
        .gold-gradient-text {
            background: linear-gradient(to bottom, #fcd34d, #d97706, #fcd34d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .glass-panel {
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(251, 191, 36, 0.3);
            box-shadow: 0 0 40px rgba(0,0,0,0.5);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- IKON KOMPONEN ---
        const Icon = ({ children, ...props }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}>{children}</svg>
        );
        const Upload = (props) => <Icon {...props}><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" x2="12" y1="3" y2="15"/></Icon>;
        const Monitor = (props) => <Icon {...props}><rect width="20" height="14" x="2" y="3" rx="2"/><line x1="8" x2="16" y1="21" y2="21"/><line x1="12" x2="12" y1="17" y2="21"/></Icon>;
        const Maximize = (props) => <Icon {...props}><path d="M8 3H5a2 2 0 0 0-2 2v3"/><path d="M21 8V5a2 2 0 0 0-2-2h-3"/><path d="M3 16v3a2 2 0 0 0 2 2h3"/><path d="M16 21h3a2 2 0 0 0 2-2v-3"/></Icon>;
        const CheckCircle = (props) => <Icon {...props}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></Icon>;
        const Play = (props) => <Icon {...props}><polygon points="6 3 20 12 6 21 6 3"/></Icon>;
        const XCircle = (props) => <Icon {...props}><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6"/><path d="m9 9 6 6"/></Icon>;
        const Moon = (props) => <Icon {...props}><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></Icon>;
        const Youtube = (props) => <Icon {...props}><path d="M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17"/><path d="m10 15 5-3-5-3z"/></Icon>;
        const Speaker = (props) => <Icon {...props}><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/></Icon>;

        // --- APLIKASI UTAMA ---
        const App = () => {
            const [image, setImage] = useState(null);
            // Default YouTube ID: Maher Zain - Ramadan (5-Xv4KZji9o)
            const [videoId, setVideoId] = useState("5-Xv4KZji9o");
            const [pieces, setPieces] = useState([]);
            // UPDATED: Grid size 2x2 (4 Keping) - Sangat Mudah
            const [gridSize, setGridSize] = useState({ rows: 2, cols: 2 });
            
            const [selectedPiece, setSelectedPiece] = useState(null);
            const [gameStatus, setGameStatus] = useState('setup'); 
            const [count, setCount] = useState(0);
            const [showControls, setShowControls] = useState(true);
            const [title, setTitle] = useState("MAJLIS PERASMIAN");
            const [notification, setNotification] = useState(null);
            const [isPlaying, setIsPlaying] = useState(false);
            
            // State untuk Ramadan
            const [showRamadan, setShowRamadan] = useState(false);
            const [timeToRamadan, setTimeToRamadan] = useState({ days: 0, hours: 0, minutes: 0, seconds: 0 });
            
            const [player, setPlayer] = useState(null);
            const applauseRef = useRef(null);
            
            // Tarikh sasaran Ramadan (Anggaran 18 Feb 2026)
            const ramadanTarget = new Date('2026-02-18T00:00:00'); 

            const fileInputRef = useRef(null);
            const canvasRef = useRef(null);

            // Fungsi helper untuk memastikan audio berjalan
            const ensureAudioPlaying = () => {
                if (player) {
                    const state = player.getPlayerState();
                    // Jika tidak bermain (unstarted, paused, video cued)
                    if (state !== 1 && state !== 3) {
                        player.unMute();
                        player.setVolume(100);
                        player.playVideo();
                        setIsPlaying(true);
                    }
                }
            };

            // --- LOAD YOUTUBE API ---
            useEffect(() => {
                if (!window.YT) {
                    const tag = document.createElement('script');
                    tag.src = "https://www.youtube.com/iframe_api";
                    const firstScriptTag = document.getElementsByTagName('script')[0];
                    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
                }

                window.onYouTubeIframeAPIReady = () => {
                    const newPlayer = new window.YT.Player('youtube-player-div', {
                        height: '0',
                        width: '0',
                        videoId: videoId,
                        playerVars: {
                            'playsinline': 1,
                            'controls': 0,
                            'showinfo': 0,
                            'loop': 1,
                            'playlist': videoId,
                            'autoplay': 1, // Set autoplay ON
                            'origin': window.location.origin
                        },
                        events: {
                            'onReady': (event) => {
                                console.log("Player Ready");
                                setPlayer(event.target);
                                event.target.setVolume(100);
                                event.target.playVideo(); // Force play on ready
                                setIsPlaying(true);
                            },
                            'onStateChange': (event) => {
                                // 1 = playing
                                if (event.data === 1) {
                                    setIsPlaying(true);
                                }
                            }
                        }
                    });
                };
            }, []);

            // Update video ID
            useEffect(() => {
                if(player && videoId) {
                    player.loadVideoById(videoId);
                    // Jangan pause bila tukar ID, terus main
                }
            }, [videoId, player]);

            // Reveal Sequence
            useEffect(() => {
                if (gameStatus === 'revealed') {
                    // UPDATED: Selepas 3 saat, masuk mode Ramadan
                    const timer = setTimeout(() => {
                        setShowRamadan(true);
                    }, 3000); 
                    return () => clearTimeout(timer);
                }
            }, [gameStatus]);

            // AUTO-PLAY LOGIC: Ramadan Mode + Applause
            useEffect(() => {
                if (showRamadan) {
                    // 1. Play Applause
                    if(applauseRef.current) {
                        applauseRef.current.currentTime = 0;
                        applauseRef.current.volume = 1.0;
                        applauseRef.current.play().catch(e => console.log("Applause blocked", e));
                    }

                    // 2. Ensure YouTube Music is STILL playing
                    ensureAudioPlaying();
                }
            }, [showRamadan]);

            // Timer Countdown Ramadan
            useEffect(() => {
                const calculateTime = () => {
                    const now = new Date();
                    const difference = ramadanTarget - now;

                    if (difference > 0) {
                        return {
                            days: Math.floor(difference / (1000 * 60 * 60 * 24)),
                            hours: Math.floor((difference / (1000 * 60 * 60)) % 24),
                            minutes: Math.floor((difference / 1000 / 60) % 60),
                            seconds: Math.floor((difference / 1000) % 60)
                        };
                    } else {
                        return { days: 0, hours: 0, minutes: 0, seconds: 0 };
                    }
                };

                const timer = setInterval(() => {
                    setTimeToRamadan(calculateTime());
                }, 1000);

                return () => clearInterval(timer);
            }, []);

            // --- IMAGE PROCESSING ---
            const processImageToPuzzle = (imageUrl) => {
                const img = new Image();
                img.crossOrigin = "anonymous";
                img.src = imageUrl;
                
                img.onload = () => {
                    const canvas = canvasRef.current;
                    const ctx = canvas.getContext('2d');
                    
                    const maxWidth = 800;
                    const scale = Math.min(1, maxWidth / img.width);
                    canvas.width = img.width * scale;
                    canvas.height = img.height * scale;
                    
                    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);

                    const pieceWidth = canvas.width / gridSize.cols;
                    const pieceHeight = canvas.height / gridSize.rows;
                    const newPieces = [];

                    for (let row = 0; row < gridSize.rows; row++) {
                        for (let col = 0; col < gridSize.cols; col++) {
                            const pieceData = ctx.getImageData(
                                col * pieceWidth, 
                                row * pieceHeight, 
                                pieceWidth, 
                                pieceHeight
                            );
                            
                            const tempCanvas = document.createElement('canvas');
                            tempCanvas.width = pieceWidth;
                            tempCanvas.height = pieceHeight;
                            const tempCtx = tempCanvas.getContext('2d');
                            tempCtx.putImageData(pieceData, 0, 0);

                            newPieces.push({
                                id: row * gridSize.cols + col,
                                currentPos: row * gridSize.cols + col, 
                                src: tempCanvas.toDataURL(), 
                            });
                        }
                    }

                    const shuffled = [...newPieces].sort(() => Math.random() - 0.5);
                    const piecesWithPos = shuffled.map((p, index) => ({
                        ...p,
                        currentPos: index
                    }));
                    
                    setPieces(piecesWithPos);
                    setGameStatus('playing');
                    setShowRamadan(false);
                    // setIsPlaying(false); <-- JANGAN STOP LAGU
                    
                    // JANGAN PAUSE VIDEO DI SINI, BIAR IA TERUS MAIN
                };
            };

            const handleImageUpload = (e) => {
                const file = e.target.files[0];
                if (file) {
                    const url = URL.createObjectURL(file);
                    setImage(url);
                    setGameStatus('setup');
                    setShowRamadan(false);
                    ensureAudioPlaying(); // Pastikan lagu jalan bila user upload
                }
            };

            const startGame = () => {
                ensureAudioPlaying(); // Pastikan lagu jalan bila user tekan start
                if (image) processImageToPuzzle(image);
            };

            const handlePieceClick = (index) => {
                if (gameStatus !== 'playing') return;

                if (selectedPiece === null) {
                setSelectedPiece(index);
                } else {
                const newPieces = [...pieces];
                const pieceA = newPieces[selectedPiece];
                const pieceB = newPieces[index];

                newPieces[selectedPiece] = pieceB;
                newPieces[index] = pieceA;

                setPieces(newPieces);
                setSelectedPiece(null);

                checkWin(newPieces);
                }
            };

            const checkWin = (currentPieces) => {
                const isWin = currentPieces.every((p, index) => p.id === index);
                if (isWin) {
                setTimeout(() => setGameStatus('solved'), 300);
                }
            };

            const startCountdown = () => {
                ensureAudioPlaying(); // Pastikan lagu masih jalan

                setGameStatus('counting');
                setCount(1);
                
                const interval = setInterval(() => {
                setCount((prev) => {
                    if (prev >= 5) {
                    clearInterval(interval);
                    setGameStatus('revealed');
                    return 5;
                    }
                    return prev + 1;
                });
                }, 1000); 
            };

            const resetGame = () => {
                setGameStatus('setup');
                setCount(0);
                setSelectedPiece(null);
                setShowRamadan(false);
                // JANGAN PAUSE VIDEO DI SINI
            };

            const toggleFullScreen = async () => {
                try {
                    if (!document.fullscreenElement) {
                        await document.documentElement.requestFullscreen();
                    } else {
                        if (document.exitFullscreen) await document.exitFullscreen();
                    }
                } catch (err) {
                    setNotification("Tekan F11 untuk Fullscreen");
                    setTimeout(() => setNotification(null), 3000);
                }
            };

            const toggleAudio = () => {
                if(player) {
                    if(isPlaying) {
                        player.pauseVideo();
                        setIsPlaying(false);
                    } else {
                        player.unMute();
                        player.playVideo();
                        setIsPlaying(true);
                    }
                }
            };

            return (
                <div className="min-h-screen bg-[#020617] text-white font-sans flex flex-col overflow-hidden relative" onClick={ensureAudioPlaying}>
                <canvas ref={canvasRef} className="hidden"></canvas>
                
                {/* YOUTUBE HIDDEN DIV */}
                <div id="youtube-player-div" className="absolute top-0 left-0 opacity-0 z-[-1] pointer-events-none"></div>

                {/* APPLAUSE AUDIO (Tepuk Tangan) */}
                <audio ref={applauseRef} src="https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3" preload="auto"></audio>

                {notification && (
                    <div className="fixed top-20 left-1/2 transform -translate-x-1/2 z-[100] bg-amber-600 text-white px-6 py-3 rounded-full shadow-xl animate-bounce flex items-center gap-3 border border-amber-400">
                        <CheckCircle size={20} />
                        <span className="font-bold text-sm">{notification}</span>
                    </div>
                )}

                {showControls && (
                    <div className="bg-slate-900/90 backdrop-blur border-b border-slate-700 z-50 shadow-lg p-4 transition-all">
                        <div className="max-w-7xl mx-auto flex flex-wrap items-center justify-between gap-4">
                            <div className="flex items-center gap-2">
                                <Monitor className="text-amber-500" />
                                <h1 className="font-bold text-amber-500 tracking-wider">PANEL GIMIK</h1>
                            </div>

                            <div className="flex flex-wrap items-center gap-3">
                                <input 
                                    type="text" 
                                    value={title}
                                    onChange={(e) => setTitle(e.target.value)}
                                    className="bg-slate-800 border border-slate-600 rounded px-3 py-1 text-sm w-48 text-white focus:border-amber-500 outline-none"
                                    placeholder="Tajuk Majlis"
                                />
                                
                                {/* Info text */}
                                <span className="text-xs text-slate-400 bg-slate-800 px-2 py-1 rounded border border-slate-600">
                                    Puzzle: 4 Keping (Mudah)
                                </span>

                                <input type="file" accept="image/*" ref={fileInputRef} onChange={handleImageUpload} className="hidden" />
                                <button onClick={() => fileInputRef.current.click()} className="bg-slate-700 hover:bg-slate-600 border border-slate-500 px-3 py-1 rounded text-sm flex items-center gap-2 transition hover:text-amber-400">
                                    <Upload size={14} /> {image ? "Tukar Gambar" : "Upload Banner"}
                                </button>

                                <div className="flex items-center gap-1 bg-slate-800 border border-slate-600 rounded px-2">
                                    <Youtube size={14} className="text-red-500" />
                                    <input 
                                        type="text" 
                                        value={videoId} 
                                        onChange={(e) => setVideoId(e.target.value)}
                                        className="bg-transparent border-none text-xs w-24 text-slate-300 focus:outline-none py-1"
                                        placeholder="YouTube ID"
                                    />
                                </div>

                                <button onClick={startGame} disabled={!image} className="bg-green-700 hover:bg-green-600 px-4 py-1 rounded text-sm disabled:opacity-50 font-bold shadow shadow-green-900 border border-green-500">
                                    Mula Game
                                </button>

                                <button onClick={resetGame} className="bg-amber-700 hover:bg-amber-600 px-3 py-1 rounded text-sm border border-amber-500">
                                    Reset
                                </button>

                                <button onClick={toggleFullScreen} className="bg-slate-700 hover:bg-slate-600 px-3 py-1 rounded text-sm">
                                    <Maximize size={14} />
                                </button>

                                <button onClick={() => setShowControls(false)} className="bg-red-600 hover:bg-red-500 px-3 py-1 rounded text-sm font-bold animate-pulse shadow-red-900 shadow-lg">
                                    HIDE MENU
                                </button>
                            </div>
                        </div>
                    </div>
                )}

                <div className="flex-1 relative flex items-center justify-center bg-[#020617] p-4 perspective-1000">
                    {!showControls && (
                        <div 
                            className="absolute top-0 left-0 w-full h-4 z-50 hover:bg-white/10 cursor-pointer"
                            onClick={() => setShowControls(true)} 
                        />
                    )}

                    {gameStatus === 'setup' && (
                        <div className="text-center">
                            {image ? (
                                <div className="flex flex-col items-center animate-in fade-in zoom-in duration-500">
                                    <div className="relative group">
                                        <div className="absolute -inset-1 bg-gradient-to-r from-amber-600 to-purple-600 rounded-lg blur opacity-25 group-hover:opacity-75 transition duration-1000 group-hover:duration-200"></div>
                                        <img src={image} alt="Preview" className="relative max-h-[50vh] shadow-2xl border-2 border-slate-700 mb-6 opacity-80 rounded-lg" />
                                    </div>
                                    <p className="text-xl text-slate-300 mb-6 font-light tracking-wide">Gambar sedia. Sila tekan butang hijau di atas.</p>
                                    {!showControls && (
                                        <button onClick={startGame} className="px-10 py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white font-bold rounded-full shadow-[0_0_30px_rgba(16,185,129,0.5)] hover:scale-105 transition transform border border-green-400">
                                            MULAKAN GIMIK
                                        </button>
                                    )}
                                </div>
                            ) : (
                                <div className="p-10 border-2 border-dashed border-slate-700 rounded-2xl bg-slate-900/50">
                                    <Upload size={64} className="mx-auto mb-4 opacity-40 text-amber-500" />
                                    <h2 className="text-2xl font-bold mb-2 text-slate-200">Sila Upload Gambar Banner</h2>
                                    <p className="text-slate-400">Gunakan menu di bahagian atas.</p>
                                </div>
                            )}
                        </div>
                    )}

                    {(gameStatus === 'playing' || gameStatus === 'solved') && (
                        <div className="flex flex-col items-center w-full max-w-6xl z-10">
                            <h1 className="text-4xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-b from-white to-slate-400 mb-10 tracking-widest drop-shadow-2xl text-center font-cinzel uppercase">
                                {title}
                            </h1>
                            
                            <div 
                                className="grid gap-1 bg-slate-800 p-2 rounded-xl shadow-2xl border border-slate-700 relative"
                                style={{
                                    gridTemplateColumns: `repeat(${gridSize.cols}, 1fr)`,
                                    width: '100%',
                                    maxWidth: '900px',
                                    aspectRatio: `${gridSize.cols}/${gridSize.rows}`,
                                    boxShadow: '0 0 50px rgba(0,0,0,0.5)'
                                }}
                            >
                                {pieces.map((piece, index) => {
                                    const isSelected = selectedPiece === index;
                                    return (
                                        <div
                                            key={index}
                                            onClick={() => handlePieceClick(index)}
                                            className={`
                                                relative overflow-hidden cursor-pointer transition-all duration-300
                                                ${isSelected ? 'ring-4 ring-amber-500 z-10 scale-105 shadow-2xl' : 'hover:brightness-110'}
                                                ${gameStatus === 'solved' ? 'border-none' : 'border border-slate-900'}
                                            `}
                                        >
                                            <img src={piece.src} alt="" className="w-full h-full object-cover block" />
                                            {gameStatus === 'playing' && (
                                                <div className={`absolute inset-0 transition-colors ${isSelected ? 'bg-amber-500/20' : 'hover:bg-white/5'}`} />
                                            )}
                                        </div>
                                    );
                                })}
                            </div>

                            <p className="mt-8 text-amber-500/80 animate-pulse font-mono text-sm uppercase tracking-widest">
                                {gameStatus === 'playing' ? "Sila lengkapkan puzzle untuk perasmian" : "Puzzle Lengkap!"}
                            </p>
                        </div>
                    )}

                    {gameStatus === 'solved' && (
                        <div className="absolute inset-0 z-20 bg-black/70 backdrop-blur-sm flex items-center justify-center animate-in fade-in duration-700">
                            <div className="text-center transform transition-all hover:scale-105">
                                <div className="mb-8 relative inline-block">
                                    <div className="absolute inset-0 bg-green-500 rounded-full blur-xl opacity-20 animate-pulse"></div>
                                    <CheckCircle size={100} className="text-green-500 relative z-10" />
                                </div>
                                <h2 className="text-3xl font-light text-white mb-10 tracking-[0.5em] uppercase font-cinzel">Sedia Untuk Dirasmikan</h2>
                                <button 
                                    onClick={startCountdown}
                                    className="group relative inline-flex items-center gap-4 px-16 py-8 bg-gradient-to-b from-red-600 to-red-800 text-white rounded-full text-4xl font-black tracking-widest shadow-[0_0_60px_rgba(220,38,38,0.6)] hover:shadow-[0_0_100px_rgba(220,38,38,0.8)] transition-all duration-300 ring-4 ring-offset-4 ring-offset-black ring-red-600 border-t border-red-400"
                                >
                                    <span className="absolute inset-0 rounded-full bg-white opacity-0 group-hover:opacity-10 transition-opacity"></span>
                                    <Play fill="currentColor" size={40} />
                                    RASMIKAN
                                </button>
                            </div>
                        </div>
                    )}

                    {gameStatus === 'counting' && (
                        <div className="absolute inset-0 z-30 bg-black flex items-center justify-center">
                            <div className="relative flex items-center justify-center">
                                <div className="absolute inset-0 bg-blue-600 rounded-full animate-ping opacity-30 duration-1000"></div>
                                <h1 
                                    key={count} 
                                    className="text-[20rem] font-black text-transparent bg-clip-text bg-gradient-to-b from-blue-300 to-blue-600 animate-number-pop drop-shadow-[0_0_50px_rgba(37,99,235,0.8)]"
                                >
                                    {count}
                                </h1>
                            </div>
                        </div>
                    )}

                    {gameStatus === 'revealed' && (
                        <div className="absolute inset-0 z-40 bg-black flex flex-col items-center justify-center overflow-hidden animate-in zoom-in duration-1000">
                            {/* PART 1: GAMBAR (Hilang lepas 3s) */}
                            <div className={`transition-all duration-1000 ease-in-out ${showRamadan ? 'opacity-0 scale-110 pointer-events-none absolute' : 'opacity-100 scale-100'} w-full h-full flex flex-col items-center justify-center relative`}>
                                {[...Array(40)].map((_, i) => (
                                    <div 
                                        key={i}
                                        className="absolute animate-confetti"
                                        style={{
                                            left: `${Math.random() * 100}%`,
                                            top: `-20%`,
                                            backgroundColor: ['#ef4444', '#22c55e', '#3b82f6', '#eab308', '#d946ef'][Math.floor(Math.random() * 5)],
                                            width: '12px', height: '24px',
                                            animationDuration: `${2 + Math.random() * 2}s`,
                                            animationDelay: `${Math.random() * 1}s`
                                        }}
                                    />
                                ))}

                                <div className="relative p-3 bg-gradient-to-r from-amber-300 via-yellow-100 to-amber-300 rounded-lg shadow-[0_0_100px_rgba(251,191,36,0.3)] animate-pulse-slow">
                                    <img src={image} alt="Grand Launch" className="max-h-[80vh] max-w-[90vw] rounded shadow-2xl object-contain bg-black" />
                                </div>

                                <h1 className="mt-10 text-6xl md:text-8xl font-black animate-shimmer text-center drop-shadow-2xl tracking-wider font-cinzel">
                                    TAHNIAH
                                </h1>
                            </div>

                            {/* PART 2: RAMADAN THEME (PREMIUM GOLD & GREEN) */}
                            <div className={`absolute inset-0 bg-[#022c22] flex flex-col items-center justify-center transition-all duration-1000 ${showRamadan ? 'opacity-100 z-50' : 'opacity-0 pointer-events-none'}`}>
                                
                                {/* Background Decorations */}
                                <div className="absolute inset-0 overflow-hidden pointer-events-none">
                                    <div className="absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/arabesque.png')] opacity-10"></div>
                                    <div className="absolute top-10 left-10 text-amber-500/10 animate-float"><Moon size={300} /></div>
                                    <div className="absolute bottom-10 right-10 text-amber-500/10 animate-float" style={{animationDelay: '2s'}}><Moon size={200} /></div>
                                    
                                    {/* Gold Particles */}
                                    {[...Array(20)].map((_, i) => (
                                        <div key={i} className="absolute rounded-full bg-amber-400 blur-[1px]" 
                                            style={{
                                                top: Math.random() * 100 + '%', left: Math.random() * 100 + '%',
                                                width: Math.random() * 4 + 'px', height: Math.random() * 4 + 'px',
                                                opacity: Math.random() * 0.5 + 0.2,
                                                animation: `float ${5 + Math.random() * 5}s infinite`
                                            }} 
                                        />
                                    ))}
                                </div>

                                {/* Main Content Card */}
                                <div className="z-10 text-center p-12 glass-panel rounded-3xl max-w-6xl w-[90%] border-t border-b border-amber-500/50 relative">
                                    
                                    {/* Play Button Overlay (Backup) */}
                                    <button onClick={toggleAudio} className="absolute top-4 right-4 text-amber-500/50 hover:text-amber-400 transition">
                                        {isPlaying ? <span className="animate-pulse">Playing...</span> : <Speaker size={24} />}
                                    </button>

                                    <div className="flex justify-center mb-8 animate-float">
                                        <div className="p-4 rounded-full border-2 border-amber-500/30 bg-gradient-to-b from-amber-900/50 to-transparent shadow-[0_0_30px_rgba(245,158,11,0.2)]">
                                            <Moon size={80} className="text-amber-400 drop-shadow-[0_0_15px_rgba(251,191,36,0.8)]" fill="currentColor" />
                                        </div>
                                    </div>

                                    <h2 className="text-2xl md:text-3xl text-amber-200 tracking-[0.5em] uppercase mb-2 font-cinzel">Menghitung Hari</h2>
                                    
                                    <div className="w-32 h-1 bg-gradient-to-r from-transparent via-amber-500 to-transparent mx-auto mb-8"></div>

                                    <h1 className="text-5xl md:text-8xl font-black gold-gradient-text drop-shadow-lg font-cinzel mb-12 tracking-wide leading-tight">
                                        RAMADAN AL-MUBARAK
                                    </h1>
                                    
                                    {/* CLOCK */}
                                    <div className="grid grid-cols-2 md:grid-cols-4 gap-8 font-digital px-4">
                                        {[
                                            { val: timeToRamadan.days, label: 'HARI' },
                                            { val: timeToRamadan.hours, label: 'JAM' },
                                            { val: timeToRamadan.minutes, label: 'MINIT' },
                                            { val: timeToRamadan.seconds, label: 'SAAT' }
                                        ].map((item, idx) => (
                                            <div key={idx} className="bg-gradient-to-b from-emerald-950 to-black p-6 rounded-xl border border-amber-500/20 shadow-2xl group hover:border-amber-500/60 transition-all duration-500 relative overflow-hidden">
                                                <div className="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-amber-500 to-transparent opacity-50"></div>
                                                <div className="text-5xl md:text-7xl font-bold text-amber-50 drop-shadow-[0_0_10px_rgba(251,191,36,0.3)]">{item.val}</div>
                                                <div className="text-amber-500 text-sm tracking-[0.3em] mt-3 font-cinzel font-bold">{item.label}</div>
                                            </div>
                                        ))}
                                    </div>

                                    <p className="text-amber-100/70 text-lg md:text-2xl italic mt-12 font-playfair tracking-wide">
                                        "Allahumma Ballighna Ramadan"
                                        <br/>
                                        <span className="text-sm not-italic font-sans text-amber-500/50 mt-2 block tracking-widest uppercase">Semoga Kita Dipertemukan</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
